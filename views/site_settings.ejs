<!-- site_settings.ejs -->
<!-- Academy settings page for updating site name and description -->
<!-- START -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academy Settings | flavour Academy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/organiser.css">
    <link rel="stylesheet" href="/main.css">
</head>
<body>

    <!-- navigation bar -->
    <nav class="navbar navbar-custom mb-4">
        <div class="container-fluid justify-content-end align-items-center" style="height: 100%;">
            <span class="navbar-brand mb-0">flavour Academy</span>
        </div>
    </nav>

    <!-- logout button -->
    <div class="mt-2 mb-4 home-btn-left">
        <a href="/logout" class="btn btn-outline-light btn-sm">Logout</a>
    </div>

    <!-- page container -->
    <div class="container mt-5" style="max-width: 600px;">

        <!-- page heading -->
        <h1 class="mb-4 text-center">Site Settings Page</h1>
<!-- END -->

        <!-- settings form -->
        <form method="POST" action="/organiser/settings" class="needs-validation" novalidate>

            <!-- academy name input -->
            <div class="mb-3">
                <label for="siteName" class="form-label">Academy Name:</label>
                <input
                    type="text"
                    id="siteName"
                    name="site_name"
                    value="<%= settings.site_name %>"
                    class="form-control"
                    placeholder="e.g. flavour Academy"
                    required
                />
                <div class="invalid-feedback">
                    Please enter the academy name.
                </div>
            </div>

            <!-- academy description input -->
            <div class="mb-4">
                <label for="siteDescription" class="form-label">Academy Description:</label>
                <textarea
                    id="siteDescription"
                    name="site_description"
                    class="form-control"
                    rows="4"
                    placeholder="Describe your cooking academy and what you offer..."
                    required
                ><%= settings.site_description %></textarea>
                <div class="invalid-feedback">
                    Please enter the academy description.
                </div>
            </div>
            
<!-- START -->
            <!-- save button -->
            <button type="submit" class="btn btn-outline-accent w-100">Save Settings</button>
        </form>

        <!-- back to chef dashboard -->
        <div class="mt-4 text-center">
            <a href="/organiser" class="text-main text-decoration-none">Back to Chef Dashboard</a>
        </div>
    </div>

    <!-- bootstrap form validation script -->
    <script>
        (() => {
            'use strict';
            const forms = document.querySelectorAll('.needs-validation');
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
    </script>

</body>
</html>
<!-- END -->
